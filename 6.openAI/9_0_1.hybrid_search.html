<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì‚¬ì´í´</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            background: linear-gradient(to bottom right, #f3f4f6, #e5e7eb);
            min-height: 100vh;
            padding: 2rem;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: linear-gradient(to bottom right, #fafafa, #f3f4f6);
            padding: 3rem;
            border-radius: 1rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 3rem;
        }
        .header h1 {
            font-size: 2.5rem;
            color: #1f2937;
            margin-bottom: 1rem;
        }
        .header p {
            font-size: 1.2rem;
            color: #6b7280;
        }
        .step-container {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }
        .step {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            padding: 1.5rem;
            background: rgba(255,255,255,0.6);
            border-radius: 1rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: all 0.3s;
            cursor: default; /* **ìˆ˜ì •: ì¸í„°ë™ì…˜ ì œê±° (pointer -> default)** */
        }
        /* **ì œê±°: .step:hover ìŠ¤íƒ€ì¼ (ì¸í„°ë™ì…˜ ì œê±°)**
        .step:hover {
            background: white;
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
            transform: scale(1.02);
        }
        */
        .icon-box {
            width: 64px;
            height: 64px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            flex-shrink: 0;
        }
        .icon-blue { background: #3b82f6; }
        .icon-purple { background: #a855f7; }
        .icon-green { background: #22c55e; }
        .icon-orange { background: #f97316; }
        .icon-yellow { background: #eab308; }
        .step-content { flex: 1; }
        .step-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 0.5rem;
        }
        .step-number {
            font-size: 0.875rem;
            font-weight: 600;
            color: #6b7280;
        }
        .step-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: #1f2937;
        }
        .step-description {
            color: #4b5563;
            margin-bottom: 0.5rem;
        }
        .step-detail {
            margin-top: 1rem;
            padding: 1rem;
            background: #dbeafe;
            border-left: 4px solid #3b82f6;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            color: #374151;
            display: block; /* **ìˆ˜ì •: ìƒì„¸ ì„¤ëª… í•­ìƒ í‘œì‹œ** (none -> block) */
        }
        /* **ì œê±°: .step:hover .step-detail { display: block; } (ì¸í„°ë™ì…˜ ì œê±°)** */

        /* --- ë‚˜ë¨¸ì§€ ìŠ¤íƒ€ì¼ ìœ ì§€ --- */
        .arrow {
            width: 24px;
            height: 24px;
            color: #9ca3af;
        }
        .divider {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin: 1rem 0;
        }
        .divider-line {
            width: 1px;
            height: 48px;
        }
        .divider-purple { background: #d8b4fe; }
        .divider-green { background: #bbf7d0; }
        .merge-visual {
            display: flex;
            justify-content: center;
            margin: 1rem 0;
        }
        .merge-box {
            position: relative;
            width: 96px;
            height: 48px;
        }
        .merge-line-left {
            position: absolute;
            left: 0;
            top: 0;
            width: 1px;
            height: 24px;
            background: #d8b4fe;
        }
        .merge-line-right {
            position: absolute;
            right: 0;
            top: 0;
            width: 1px;
            height: 24px;
            background: #bbf7d0;
        }
        .merge-line-center {
            position: absolute;
            left: 50%;
            bottom: 0;
            width: 1px;
            height: 24px;
            background: #fed7aa;
            transform: translateX(-50%);
        }
        .merge-line-horizontal {
            position: absolute;
            left: 0;
            top: 24px;
            width: 100%;
            height: 1px;
            background: #fed7aa;
        }
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 3rem;
        }
        .info-card {
            padding: 1.5rem;
            border-radius: 0.75rem;
            border: 2px solid;
        }
        .info-card-purple {
            background: #faf5ff;
            border-color: #e9d5ff;
        }
        .info-card-green {
            background: #f0fdf4;
            border-color: #bbf7d0;
        }
        .info-card h3 {
            font-size: 1.125rem;
            font-weight: bold;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .info-card-purple h3 { color: #7c3aed; }
        .info-card-green h3 { color: #16a34a; }
        .info-card ul {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        .info-card li {
            font-size: 0.875rem;
            color: #374151;
        }
        .section {
            margin-top: 3rem;
            padding: 2rem;
            background: white;
            border-radius: 1rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .section h2 {
            font-size: 2rem;
            color: #1f2937;
            margin-bottom: 1.5rem;
            border-bottom: 3px solid #3b82f6;
            padding-bottom: 0.5rem;
        }
        .section h3 {
            font-size: 1.5rem;
            color: #374151;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
        }
        .section p {
            color: #4b5563;
            line-height: 1.8;
            margin-bottom: 1rem;
        }
        .ensemble-diagram {
            background: #f9fafb;
            padding: 1.5rem;
            border-radius: 0.75rem;
            border-left: 4px solid #8b5cf6;
            margin: 1.5rem 0;
        }
        .ensemble-diagram pre {
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.8;
            color: #1f2937;
            overflow-x: auto;
        }
        .formula-box {
            background: #fef3c7;
            padding: 1.5rem;
            border-radius: 0.75rem;
            border: 2px solid #fbbf24;
            margin: 1.5rem 0;
            text-align: center;
        }
        .formula {
            font-size: 1.5rem;
            font-weight: bold;
            color: #92400e;
            font-family: 'Times New Roman', serif;
            margin: 1rem 0;
        }
        .example-box {
            background: #ecfdf5;
            padding: 1.5rem;
            border-radius: 0.75rem;
            border-left: 4px solid #10b981;
            margin: 1.5rem 0;
        }
        .example-title {
            font-weight: bold;
            color: #065f46;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }
        .calculation {
            background: white;
            padding: 1rem;
            border-radius: 0.5rem;
            margin: 0.5rem 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }
        .highlight {
            background: #fef08a;
            padding: 0.2rem 0.5rem;
            border-radius: 0.25rem;
            font-weight: bold;
        }
        .advantage-box {
            margin-top: 2rem;
            padding: 1.5rem;
            background: linear-gradient(to right, #dbeafe, #f3e8ff);
            border: 2px solid #93c5fd;
            border-radius: 0.75rem;
        }
        .advantage-box h3 {
            font-size: 1.125rem;
            font-weight: bold;
            color: #1f2937;
            margin-bottom: 1rem;
        }
        .advantage-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            font-size: 0.875rem;
            color: #374151;
        }
        .advantage-item span { font-weight: 600; }
        svg { width: 32px; height: 32px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì‚¬ì´í´</h1>
            <p>Dense Search + Sparse Searchì˜ ê²°í•©</p>
        </div>

        <div class="step-container">
            <div class="step">
                <div class="icon-box icon-blue">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/>
                    </svg>
                </div>
                <div class="step-content">
                    <div class="step-header">
                        <span class="step-number">STEP 1</span>
                        <h3 class="step-title">ì‚¬ìš©ì ì¿¼ë¦¬</h3>
                    </div>
                    <p class="step-description">ì‚¬ìš©ìê°€ ì§ˆë¬¸ì„ ì…ë ¥í•©ë‹ˆë‹¤</p>
                    <div class="step-detail">ì˜ˆ: 'ì¸ê³µì§€ëŠ¥ì˜ ìµœì‹  íŠ¸ë Œë“œëŠ”?'</div>
                </div>
                <svg class="arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                </svg>
            </div>

            <div class="divider">
                <div class="divider-line divider-purple"></div>
                <div class="divider-line divider-green"></div>
            </div>

            <div class="step">
                <div class="icon-box icon-purple">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
                    </svg>
                </div>
                <div class="step-content">
                    <div class="step-header">
                        <span class="step-number">STEP 2</span>
                        <h3 class="step-title">Dense ê²€ìƒ‰ (ì•™ìƒë¸” 1)</h3>
                    </div>
                    <p class="step-description">ì˜ë¯¸ ê¸°ë°˜ ë²¡í„° ê²€ìƒ‰</p>
                    <div class="step-detail">ì„ë² ë”© ëª¨ë¸ë¡œ ì¿¼ë¦¬ë¥¼ ë²¡í„°í™”í•˜ì—¬ ì˜ë¯¸ì ìœ¼ë¡œ ìœ ì‚¬í•œ ë¬¸ì„œë¥¼ ì°¾ìŠµë‹ˆë‹¤.</div>
                </div>
                <svg class="arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                </svg>
            </div>

            <div class="step">
                <div class="icon-box icon-green">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                        <polyline points="14 2 14 8 20 8"/>
                    </svg>
                </div>
                <div class="step-content">
                    <div class="step-header">
                        <span class="step-number">STEP 3</span>
                        <h3 class="step-title">Sparse ê²€ìƒ‰ (ì•™ìƒë¸” 2)</h3>
                    </div>
                    <p class="step-description">í‚¤ì›Œë“œ ê¸°ë°˜ ê²€ìƒ‰</p>
                    <div class="step-detail">BM25 ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì •í™•í•œ í‚¤ì›Œë“œ ë§¤ì¹­ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.</div>
                </div>
                <svg class="arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                </svg>
            </div>

            <div class="merge-visual">
                <div class="merge-box">
                    <div class="merge-line-left"></div>
                    <div class="merge-line-right"></div>
                    <div class="merge-line-center"></div>
                    <div class="merge-line-horizontal"></div>
                </div>
            </div>

            <div class="step">
                <div class="icon-box icon-orange">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <line x1="12" y1="19" x2="12" y2="5"/><polyline points="5 12 12 5 19 12"/>
                    </svg>
                </div>
                <div class="step-content">
                    <div class="step-header">
                        <span class="step-number">STEP 4</span>
                        <h3 class="step-title">RRFë¡œ ê²°ê³¼ ë³‘í•©</h3>
                    </div>
                    <p class="step-description">Reciprocal Rank Fusionìœ¼ë¡œ í†µí•©</p>
                    <div class="step-detail">ê° ê²€ìƒ‰ì˜ ìˆœìœ„ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì ìˆ˜ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤. ê³µì‹: ì ìˆ˜ = 1 / (ìˆœìœ„ + k)</div>
                </div>
                <svg class="arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                </svg>
            </div>

            <div class="step">
                <div class="icon-box icon-yellow">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
                    </svg>
                </div>
                <div class="step-content">
                    <div class="step-header">
                        <span class="step-number">STEP 5</span>
                        <h3 class="step-title">ìµœì¢… ê²°ê³¼</h3>
                    </div>
                    <p class="step-description">ìµœì í™”ëœ ê²€ìƒ‰ ê²°ê³¼ ë°˜í™˜</p>
                    <div class="step-detail">ì˜ë¯¸ì™€ í‚¤ì›Œë“œ ëª¨ë‘ë¥¼ ê³ ë ¤í•œ ì •í™•ë„ ë†’ì€ ë¬¸ì„œë“¤ì„ ì œê³µí•©ë‹ˆë‹¤.</div>
                </div>
            </div>
        </div>

        <div class="info-grid">
            <div class="info-card info-card-purple">
                <h3>âš¡ Dense Search</h3>
                <ul>
                    <li>â€¢ ì˜ë¯¸ ê¸°ë°˜ ê²€ìƒ‰ (Semantic Search)</li>
                    <li>â€¢ ì„ë² ë”© ë²¡í„° ìœ ì‚¬ë„ ê³„ì‚°</li>
                    <li>â€¢ ë™ì˜ì–´, ìœ ì‚¬ í‘œí˜„ ê²€ìƒ‰ì— ê°•í•¨</li>
                    <li>â€¢ ì˜ˆ: BERT, Sentence-BERT</li>
                </ul>
            </div>
            <div class="info-card info-card-green">
                <h3>ğŸ“ Sparse Search</h3>
                <ul>
                    <li>â€¢ í‚¤ì›Œë“œ ê¸°ë°˜ ê²€ìƒ‰</li>
                    <li>â€¢ ë‹¨ì–´ ë¹ˆë„/ì¤‘ìš”ë„ ê¸°ë°˜</li>
                    <li>â€¢ ì •í™•í•œ ìš©ì–´ ë§¤ì¹­ì— ê°•í•¨</li>
                    <li>â€¢ ì˜ˆ: Elasticsearch, BM25</li>
                </ul>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ¯ ì•™ìƒë¸” (Ensemble)ì´ë€?</h2>
            <p>ìŒì•… ì•™ìƒë¸”ì²˜ëŸ¼ ì—¬ëŸ¬ ì—°ì£¼ìê°€ í•¨ê»˜ ì—°ì£¼í•˜ëŠ” ê²ƒê³¼ ê°™ì€ ê°œë…ì…ë‹ˆë‹¤. ê²€ìƒ‰ì—ì„œëŠ” <span class="highlight">ì—¬ëŸ¬ ê²€ìƒ‰ ë°©ì‹ì„ ë™ì‹œì— ì‚¬ìš©í•˜ì—¬ ê°ìì˜ ì¥ì ì„ ê²°í•©</span>í•˜ëŠ” ê¸°ë²•ì…ë‹ˆë‹¤.</p>

            <h3>ğŸ“Š ì•™ìƒë¸” ê²€ìƒ‰ì˜ ì‘ë™ ë°©ì‹</h3>
            <div class="ensemble-diagram">
                <pre>ì¿¼ë¦¬: "ì¸ê³µì§€ëŠ¥ ìµœì‹  íŠ¸ë Œë“œ"
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ì•™ìƒë¸” ê²€ìƒ‰ (ë³‘ë ¬ ì‹¤í–‰)      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”® Dense Search   ğŸ“ Sparse    â”‚
â”‚ ê²°ê³¼:             ê²°ê³¼:        â”‚
â”‚ 1. ë¬¸ì„œA          1. ë¬¸ì„œC     â”‚
â”‚ 2. ë¬¸ì„œB          2. ë¬¸ì„œD     â”‚
â”‚ 3. ë¬¸ì„œC          3. ë¬¸ì„œA     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
RRFë¡œ ë³‘í•©
    â†“
ìµœì¢…: C â†’ A â†’ B â†’ D</pre>
            </div>

            <h3>âœ¨ ì•™ìƒë¸”ì˜ ì¥ì </h3>
            <ul style="line-height: 2; color: #374151;">
                <li>â€¢ <strong>ì•½ì  ë³´ì™„:</strong> Denseê°€ ë†“ì¹œ í‚¤ì›Œë“œëŠ” Sparseê°€ ì°¾ìŒ</li>
                <li>â€¢ <strong>ì •í™•ë„ í–¥ìƒ:</strong> ë‹¨ì¼ ê²€ìƒ‰ë³´ë‹¤ í¬ê´„ì </li>
                <li>â€¢ <strong>ê°•ê±´ì„±:</strong> í•œ ê²€ìƒ‰ ì‹¤íŒ¨í•´ë„ ì»¤ë²„</li>
                <li>â€¢ <strong>ë‹¤ì–‘ì„±:</strong> ì—¬ëŸ¬ ê´€ì ì—ì„œ í‰ê°€</li>
            </ul>
        </div>

        <div class="section">
            <h2>ğŸ”€ RRF (Reciprocal Rank Fusion)</h2>
            <p>RRFëŠ” <span class="highlight">ì—¬ëŸ¬ ê²€ìƒ‰ ê²°ê³¼ë¥¼ í•˜ë‚˜ë¡œ í•©ì¹˜ëŠ” ì•Œê³ ë¦¬ì¦˜</span>ì…ë‹ˆë‹¤. ê° ë¬¸ì„œì˜ ìˆœìœ„ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì ìˆ˜ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.</p>

            <h3>ğŸ“ RRF ê³µì‹</h3>
            <div class="formula-box">
                <p style="color: #92400e; margin-bottom: 0.5rem;">ê° ë¬¸ì„œì˜ ìµœì¢… ì ìˆ˜:</p>
                <div class="formula">ì ìˆ˜ = 1 / (ìˆœìœ„ + k)</div>
                <p style="color: #92400e; font-size: 0.9rem;">k = 60 (ì¼ë°˜ì ), ìˆœìœ„ = ë¬¸ì„œ ìœ„ì¹˜ (1, 2, 3...)</p>
            </div>

            <h3>ğŸ’¡ êµ¬ì²´ì ì¸ ì˜ˆì‹œ</h3>
            <div class="example-box">
                <div class="example-title">ìƒí™©: "AI íŠ¸ë Œë“œ" ê²€ìƒ‰</div>
                
                <div style="margin: 1rem 0;">
                    <strong>Dense ê²€ìƒ‰:</strong>
                    <div class="calculation">1ë“±: ë¬¸ì„œA, 2ë“±: ë¬¸ì„œB, 3ë“±: ë¬¸ì„œC</div>
                </div>

                <div style="margin: 1rem 0;">
                    <strong>Sparse ê²€ìƒ‰:</strong>
                    <div class="calculation">1ë“±: ë¬¸ì„œC, 2ë“±: ë¬¸ì„œD, 3ë“±: ë¬¸ì„œA</div>
                </div>

                <div style="margin: 1rem 0;">
                    <strong>RRF ì ìˆ˜ (k=60):</strong>
                    <div class="calculation">
<strong>ë¬¸ì„œA:</strong>
Dense 1ë“±: 1/(1+60) = 0.0164
Sparse 3ë“±: 1/(3+60) = 0.0159
<span class="highlight">ì´ì  = 0.0323</span></div>

                    <div class="calculation">
<strong>ë¬¸ì„œC:</strong>
Dense 3ë“±: 1/(3+60) = 0.0159
Sparse 1ë“±: 1/(1+60) = 0.0164
<span class="highlight">ì´ì  = 0.0323</span></div>
                </div>

                <div style="background: #fef08a; padding: 1rem; border-radius: 0.5rem;">
                    <strong>ìµœì¢…:</strong> ğŸ¥‡ ë¬¸ì„œA & C (0.0323) - ë‘ ê²€ìƒ‰ì—ì„œ ëª¨ë‘ ë†’ì€ ìˆœìœ„
                </div>
            </div>

            <h3>ğŸ¯ RRFì˜ í•µì‹¬</h3>
            <ul style="line-height: 2; color: #374151;">
                <li>â€¢ <strong>ì¼ê´€ì„± ìš°ì„ :</strong> ì—¬ëŸ¬ ê²€ìƒ‰ì—ì„œ ì¼ê´€ë˜ê²Œ ë†’ì€ ìˆœìœ„</li>
                <li>â€¢ <strong>ì´ìƒì¹˜ ë°©ì§€:</strong> í•œ ê²€ìƒ‰ë§Œ 1ë“±ì´ë©´ ìµœì¢… ìˆœìœ„ í•˜ë½</li>
                <li>â€¢ <strong>íŠœë‹ ë¶ˆí•„ìš”:</strong> kê°’ë§Œ ì„¤ì •</li>
            </ul>
        </div>
        
        <div class="advantage-box">
            <h3>ğŸ¯ í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ì˜ ì¥ì </h3>
            <div class="advantage-grid">
                <div class="advantage-item">
                    <span>ì •í™•ë„ í–¥ìƒ:</span> ë‘ ë°©ì‹ì˜ ì¥ì  í™œìš©
                </div>
                <div class="advantage-item">
                    <span>ê°•ê±´ì„±:</span> ì•½ì ì„ ì„œë¡œ ë³´ì™„
                </div>
                <div class="advantage-item">
                    <span>ìœ ì—°ì„±:</span> ë‹¤ì–‘í•œ ì¿¼ë¦¬ ëŒ€ì‘
                </div>
            </div>
        </div>
    </div>

    </body>
</html>